
{% extends 'base.html' %}
{% block head %}
  {{ super() }}
  <script>
    $(document).ready(function () {  
            $('#show_password').click(function () {  
              //Change the attribute back to password 
              if($('#password').attr('type')==='text') {
                $('#password').attr('type', 'password');  
                $('#show_password').removeClass('bi bi-eye').addClass('bi bi-eye-slash');
              }else{
                $('#password').attr('type', 'text');  
                $('#show_password').removeClass('bi bi-eye-slash').addClass('bi bi-eye');
              }  
            });    
        }); 
  </script>
{% endblock %}
{% block header %}
  <h1>{% block title %}Log In{% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="form-container">
  <div class="form-signin">
    <h1>Sign In</h1>
    <form method="post" action="" novalidate>
        {{ form.hidden_tag() }}
        <div class="mb-3">
            {{ form.username.label(class_='form-label') }}<br>
            {{ form.username(class_='form-control') }}
            {% for error in form.username.errors %}
              <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="mb-3">
            {{ form.password.label(class_='form-label') }}<br>
            <div class="input-group">
              {{ form.password(class_='form-control') }}
              <span class="input-group-text"><i id="show_password" class="bi bi-eye-slash"></i></span>
            </div>
            {% for error in form.password.errors %}
            <span style="color: red;">{{ error }}</span>
            {% endfor %}
        </div>
        <div class="mb-3 form-check">
          {{ form.remember_me(class_='form-check-input') }} {{ form.remember_me.label(class_='form-check-label') }}
        </div>
        <div class="mb-3">
            Forgot Your Password?
            <a href="{{ url_for('auth.reset_password_request') }}">Click to Reset It</a>
        </div>
        <div>{{ form.submit(class_='btn btn-primary') }}</div>
    </form>
  </div>
</div>
{% endblock %}